<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    

<mapper namespace = "com.spring.beachpedia.user.mapper.IUserMapper">
 
	<!-- 회원가입 -->
	<insert id = "join">
		INSERT INTO users 
			  (user_id, user_pw, user_name, user_nick, user_email1, user_email2)
		VALUES(#{userId}, #{userPw}, #{userName}, 
			   #{userNick}, #{userEmail1}, #{userEmail2})
	</insert>

	<!-- 로그인 -->
	<select id = "login" resultType = "String">
		SELECT user_pw
		FROM users
		WHERE user_id = #{userId}
	</select>

	<!-- 유저정보 가져오기 -->
	<select id = "getUser" resultType = "user">
		SELECT user_id, user_name, user_nick, user_email1, user_email2
		FROM users
		WHERE user_id = #{userId}	
	</select>
	
	<!-- id 여부 확인 -->
	<select id = "idCheck" resultType = "int">
		SELECT COUNT(*)
		FROM users
		WHERE user_id = #{userId}
	</select>
	
	<!-- 유저닉네임 수정 -->
	<update id = "updateUserNick">
		UPDATE users
		SET user_nick = #{userNick}
		WHERE user_id = #{userId}
	</update>
	
	<!-- 유저정보 삭제 -->
	<delete id = "deleteUser">
		DELETE FROM users
		WHERE user_id = #{userId}
	</delete>


</mapper>